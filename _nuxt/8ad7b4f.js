/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8,5,7],{436:function(t,e,n){var content=n(439);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("363f7858",content,!0,{sourceMap:!1})},437:function(t,e,n){var content=n(443);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("5905e1af",content,!0,{sourceMap:!1})},438:function(t,e,n){"use strict";n(436)},439:function(t,e,n){var r=n(21)(!1);r.push([t.i,".drawcanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:pinch-zoom}@media screen{.drawcanvas{border:1px dashed silver}}",""]),t.exports=r},440:function(t,e,n){"use strict";n.r(e);var r=n(32),o=(n(4),n(59),n(45),n(111),{props:["points","mode","w","h"],data:function(){return{x:0,y:0,r:1,px:"",color:"#606060",lineWidth:3,c_w:0,c_h:0,currentWidth:0,isOn:!1,isEffective:!1,isMoved:!1,currnetPoint:null,currentLine:null,innerPoints:[],redodata:[],eracedData:[],canvas:null,context:null}},watch:{mode:function(){switch(this.mode){case 0:break;case 1:this.clear(),this.reDraw(),this.$emit("update:mode",0);break;case 2:this.clear(),this.rePlay(),this.$emit("update:mode",0);break;case 3:this.undo(),this.$emit("update:mode",0);break;case 4:this.redo(),this.$emit("update:mode",0);break;case 5:this.$emit("update:points",this.innerPoints),this.$emit("update:mode",0)}},points:function(){0==this.points.length?(this.eracedData=this.innerPoints,this.redodata=[],this.innerPoints=this.points,this.clear()):0==this.mode&&(this.innerPoints=this.points)},w:function(){this.c_w=this.w},h:function(){this.c_h=this.h}},mounted:function(){this.init()},methods:{init:function(){this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("pointerdown",this.pointerdown,!1),this.canvas.addEventListener("pointerup",this.pointerup,!1),this.canvas.addEventListener("pointermove",this.pointermove,!1)},resize:function(){var t=this;this.currentWidth=window.innerWidth,this.$nextTick((function(){t.r=window.devicePixelRatio,t.c_w=t.canvas.clientWidth,t.c_h=t.canvas.clientHeight,t.$emit("update:w",t.canvas.clientWidth),t.$emit("update:h",t.canvas.clientHeight)}))},resizeEvent:function(){this.resize()},getPoint:function(t){return{x:t.layerX,y:t.layerY}},pointerup:function(t){if(!this.isMoved){var p=this.getPoint(t);this.currentLine.push(p),this.context.lineTo(p.x,p.y),this.context.lineCap="round",this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,this.context.stroke()}this.innerPoints.push(this.currentLine),this.isMoved=!1},pointerdown:function(t){if(t.preventDefault(),0==this.mode){this.redodata=[],this.eracedData=[],t.target.setPointerCapture(t.pointerId);var p=this.getPoint(t);this.currentLine=[],this.currentLine.push(p),this.isMoved=!1,this.context.beginPath(),this.context.moveTo(p.x,p.y)}},pointermove:function(t){if(1==t.buttons||1==t.witch||"touchmove"==t.type){this.isMoved=!0;var p=this.getPoint(t);this.currentLine.push(p),this.context.lineTo(p.x,p.y),this.context.lineCap="round",this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,this.context.stroke()}},drawLine:function(p){this.context.beginPath(),this.context.moveTo(this.currnetPoint.x,this.currnetPoint.y),this.context.lineTo(p.x,p.y),this.context.lineWidth=this.lineWidth,this.context.lineCap="round",this.context.strokeStyle=this.color,this.context.stroke()},reDraw:function(){var t=this;this.$nextTick((function(){for(var i=0;i<t.innerPoints.length;i++){t.currnetPoint=t.innerPoints[i][0];for(var e=0;e<t.innerPoints[i].length;e++)t.drawLine(t.innerPoints[i][e]),t.currnetPoint=t.innerPoints[i][e]}}))},rePlay:function(){var t=this;this.$nextTick(Object(r.a)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.innerPoints.length)){e.next=17;break}t.currnetPoint=t.innerPoints[i][0],n=0;case 4:if(!(n<t.innerPoints[i].length)){e.next=12;break}return t.drawLine(t.innerPoints[i][n]),t.currnetPoint=t.innerPoints[i][n],e.next=9,t.sleep(5);case 9:n++,e.next=4;break;case 12:return e.next=14,t.sleep(300);case 14:i++,e.next=1;break;case 17:case"end":return e.stop()}}),e)}))))},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="rgb(255,255,255"},sleep:function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))},undo:function(){if(this.eracedData.length>0)return this.innerPoints=this.eracedData,this.eracedData=[],this.clear(),void this.reDraw();if(0!=this.innerPoints.length){var t=this.innerPoints.slice(-1);this.redodata.push(t[0]),this.innerPoints=this.innerPoints.slice(0,-1),this.clear(),this.reDraw()}},redo:function(){if(0!=this.redodata.length){var t=this.redodata.slice(-1);this.innerPoints.push(t[0]),this.redodata=this.redodata.slice(0,-1),this.clear(),this.reDraw()}}}}),h=(n(438),n(72)),component=Object(h.a)(o,(function(){var t=this;return(0,t._self._c)("canvas",{ref:"canvas",staticClass:"drawcanvas",attrs:{width:t.c_w,height:t.c_h}})}),[],!1,null,null,null);e.default=component.exports},442:function(t,e,n){"use strict";n(437)},443:function(t,e,n){var r=n(21)(!1);r.push([t.i,".draw-box-wrapper{display:block;position:relative;margin:0}.drawtext{display:block;top:-.5em;bottom:0;right:0;writing-mode:vertical-rl;white-space:nowrap}.drawdebugbox,.drawtext{position:absolute;left:0}.drawdebugbox{font-size:10px}.command-bar,.drawdebugbox{top:0;writing-mode:horizontal-tb}.command-bar{position:absolute!important;right:0;display:flex}@media print{.command-bar{display:none}}.pointerbox{position:absolute;bottom:0;left:0;writing-mode:horizontal-tb;font-size:10px}ruby{word-break:keep-all;color:#c8c8c8}.ruby-hint{color:hsla(0,0%,78.4%,0);transition:color 2s}rt{color:#202020;font-size:.2em}",""]),t.exports=r},459:function(t,e,n){"use strict";n.r(e);var r=n(284),o=n(191),h=(n(59),{props:["word","index","fs","sa","md"],data:function(){return{x:0,y:0,ratio:1,fontSize:64,px:"",isOn:!1,isEffective:!1,points:[],pointNow:null,mode:0,currentWidth:0,c_w:0,c_h:0,drawtext:null,hint:!1,showAnswers:!1,debug:!1}},watch:{word:function(){var t=this;this.$nextTick((function(){t.word.a.length>0&&(t.clear(),t.resize())}))},fs:function(){var t=this;this.fontSize=this.fs,this.$nextTick((function(){t.init(),t.$nextTick((function(){t.resize()}))}))},sa:function(){console.log("drawBox2: showAnswers chenged"),this.showAnswers=this.sa},md:function(){this.mode=this.md},mode:function(){this.$emit("update:md",this.mode)}},computed:{ans:function(){return this.showAnswers?this.word.a:this.word.q}},mounted:function(){var t=this;this.drawtext=this.$refs.drawtext,this.init(),this.$nextTick((function(){t.resize()})),window.addEventListener("orientationchange",this.resizeEvent),window.addEventListener("resize",this.resizeEvent)},methods:{init:function(){this.ratio=window.devicePixelRatio;var t=this.$refs.drawboxwrapper,e=Math.round(this.fontSize*this.ratio);this.px=e+"px",t.style.fontSize=this.px,t.style.padding="28px 0 0 0";var n=Math.round(e+this.fontSize/2*this.ratio);t.style.width="".concat(n,"px"),this.c_w=n},resize:function(){this.currentWidth=window.innerWidth;var t=this.$refs.drawboxwrapper,e=Math.round(this.fontSize*this.ratio),n=Math.round(e*(this.word.a.length+2)-e/3);t.style.height="".concat(n,"px"),this.c_h=n},resizeEvent:function(){console.log("drawBox2: resize event occured"),this.resize()},replay:function(){this.mode=2},clear:function(){this.points=[]},emitChange:function(){var t=this;this.mode=5,this.$nextTick((function(){t.$emit("change",t.points)}))},load:function(){var t=this;this.$axios.get("/data_b.json").then((function(e){t.points=e.data}))},showHint:function(){var t=this;this.hint=!0,setTimeout((function(){t.hint=!1}),1e3)},undo:function(){this.mode=3},redo:function(){this.mode=4}}}),c=(n(442),n(72)),component=Object(c.a)(h,(function(){var t=this,e=t._self._c;return e("div",{ref:"drawboxwrapper",staticClass:"draw-box-wrapper"},[e("div",{ref:"drawtext",staticClass:"drawtext"},[e("span",[t._v("（")]),t._v(" "),e("ruby",{class:{"ruby-hint":!t.hint}},[t._v("\n      "+t._s(t.word.a)+"\n      "),e("rt",[t._v(t._s(t.ans))])]),t._v(" "),e("span",[t._v("）")])]),t._v(" "),t.debug?e("div",{staticClass:"drawdebugbox"},[t._v("\n    "+t._s(t.x)+","+t._s(t.y)+", "+t._s(Math.round(100*t.ratio))+"%, "+t._s(t.px)+", "+t._s(t.c_w)+",\n    "+t._s(t.c_h)+"\n  ")]):t._e(),t._v(" "),t.debug?e("div",{staticClass:"pointerbox"},[t._v(t._s(t.pointNow))]):t._e(),t._v(" "),e("draw-canvas2",{ref:"drawcanvas",attrs:{points:t.points,mode:t.mode,w:t.c_w,h:t.c_h},on:{"update:points":function(e){t.points=e},"update:mode":function(e){t.mode=e},"update:w":function(e){t.c_w=e},"update:h":function(e){t.c_h=e}}}),t._v(" "),e("div",{staticClass:"command-bar"},[t.debug?e("div",[e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.load}},[e(o.a,[t._v("mdi-download")])],1),t._v(" "),e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.emitChange}},[e(o.a,[t._v("mdi-ladybug")])],1),t._v(" "),e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.replay}},[e(o.a,[t._v("mdi-play-circle")])],1)],1):t._e(),t._v(" "),e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.undo}},[e(o.a,[t._v("mdi-undo")])],1),t._v(" "),e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.redo}},[e(o.a,[t._v("mdi-redo")])],1),t._v(" "),e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.showHint}},[e(o.a,[t._v("mdi-help-circle")])],1),t._v(" "),e(r.a,{attrs:{"x-small":t.ratio<2,small:t.ratio>=2,color:"teal",icon:""},on:{click:t.clear}},[e(o.a,[t._v("mdi-delete")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DrawCanvas2:n(440).default})},460:function(t,e,n){var r,o,h;o=[],r=function s(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},e=!t.document&&!!t.postMessage,n=e&&/blob:/i.test((t.location||{}).protocol),a={},r=0,b={parse:function(e,n){var i=(n=n||{}).dynamicTyping||!1;if(y(i)&&(n.dynamicTypingFunction=i,i={}),n.dynamicTyping=i,n.transform=!!y(n.transform)&&n.transform,n.worker&&b.WORKERS_SUPPORTED){var o=function(){if(!b.WORKERS_SUPPORTED)return!1;var i,e,n=(i=t.URL||t.webkitURL||null,e=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob(["(",e,")();"],{type:"text/javascript"})))),o=new t.Worker(n);return o.onmessage=f,o.id=r++,a[o.id]=o}();return o.userStep=n.step,o.userChunk=n.chunk,o.userComplete=n.complete,o.userError=n.error,n.step=y(n.step),n.chunk=y(n.chunk),n.complete=y(n.complete),n.error=y(n.error),delete n.worker,void o.postMessage({input:e,config:n,workerId:o.id})}var d=null;return b.NODE_STREAM_INPUT,"string"==typeof e?d=n.download?new h(n):new p(n):!0===e.readable&&y(e.read)&&y(e.on)?d=new g(n):(t.File&&e instanceof File||e instanceof Object)&&(d=new c(n)),d.stream(e)},unparse:function(t,e){var n=!1,r=!0,o=",",h="\r\n",s='"',a=s+s,i=!1,c=null,l=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||b.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(o=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(i=e.skipEmptyLines),"string"==typeof e.newline&&(h=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(a=e.escapeChar+s),("boolean"==typeof e.escapeFormulae||e.escapeFormulae instanceof RegExp)&&(l=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(d(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return u(null,t,i);if("object"==typeof t[0])return u(c||Object.keys(t[0]),t,i)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||c),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:"object"==typeof t.data[0]?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),u(t.fields||[],t.data||[],i);throw new Error("Unable to serialize unrecognized input");function u(t,e,i){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var c=Array.isArray(t)&&0<t.length,s=!Array.isArray(e[0]);if(c&&r){for(var a=0;a<t.length;a++)0<a&&(n+=o),n+=m(t[a],a);0<e.length&&(n+=h)}for(var d=0;d<e.length;d++){var l=c?t.length:e[d].length,u=!1,f=c?0===Object.keys(e[d]).length:0===e[d].length;if(i&&!c&&(u="greedy"===i?""===e[d].join("").trim():1===e[d].length&&0===e[d][0].length),"greedy"===i&&c){for(var _=[],v=0;v<l;v++){var w=s?t[v]:v;_.push(e[d][w])}u=""===_.join("").trim()}if(!u){for(var p=0;p<l;p++){0<p&&!f&&(n+=o);var g=c&&s?t[p]:p;n+=m(e[d][g],p)}d<e.length-1&&(!i||0<l&&!f)&&(n+=h)}}return n}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var i=!1;l&&"string"==typeof t&&l.test(t)&&(t="'"+t,i=!0);var r=t.toString().replace(f,a);return(i=i||!0===n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var i=0;i<e.length;i++)if(-1<t.indexOf(e[i]))return!0;return!1}(r,b.BAD_DELIMITERS)||-1<r.indexOf(o)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?s+r+s:r}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK="\ufeff",b.BAD_DELIMITERS=["\r","\n",'"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!e&&!!t.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=",",b.Parser=l,b.ParserHandle=i,b.NetworkStreamer=h,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var i=e.config||{},n=[];return this.each((function(e){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)n.push({file:this.files[r],inputElem:this,instanceConfig:o.extend({},i)})})),r(),this;function r(){if(0!==n.length){var t,r,i,h,c=n[0];if(y(e.before)){var s=e.before(c.file,c.inputElem);if("object"==typeof s){if("abort"===s.action)return t="AbortError",r=c.file,i=c.inputElem,h=s.reason,void(y(e.error)&&e.error({name:t},r,i,h));if("skip"===s.action)return void u();"object"==typeof s.config&&(c.instanceConfig=o.extend(c.instanceConfig,s.config))}else if("skip"===s)return void u()}var a=c.instanceConfig.complete;c.instanceConfig.complete=function(t){y(a)&&a(t,c.file,c.inputElem),u()},b.parse(c.file,c.instanceConfig)}else y(e.complete)&&e.complete()}function u(){n.splice(0,1),r()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new i(e),(this._handle.streamer=this)._config=e}.call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var h=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=h.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),h&&h.data&&(this._rowCount+=h.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:h,workerId:b.WORKER_ID,finished:a});else if(y(this._config.chunk)&&!r){if(this._config.chunk(h,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);h=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(h.data),this._completeResults.errors=this._completeResults.errors.concat(h.errors),this._completeResults.meta=h.meta),this._completed||!a||!y(this._config.complete)||h&&h.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||h&&h.meta.paused||this._nextChunk(),h}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function h(t){var n;(t=t||{}).chunkSize||(t.chunkSize=b.RemoteChunkSize),u.call(this,t),this._nextChunk=e?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(n=new XMLHttpRequest,this._config.withCredentials&&(n.withCredentials=this._config.withCredentials),e||(n.onload=w(this._chunkLoaded,this),n.onerror=w(this._chunkError,this)),n.open(this._config.downloadRequestBody?"POST":"GET",this._input,!e),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)n.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{n.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}e&&0===n.status&&this._chunkError()}},this._chunkLoaded=function(){4===n.readyState&&(n.status<200||400<=n.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:n.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(n),this.parseChunk(n.responseText)))},this._chunkError=function(t){var e=n.statusText||t;this._sendError(new Error(e))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=b.LocalChunkSize),u.call(this,t);var s="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,s?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var i=e.readAsText(t,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var i;u.call(this,t=t||{}),this.stream=function(t){return i=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,e=this._config.chunkSize;return e?(t=i.substring(0,e),i=i.substring(e)):(t=i,i=""),this._finished=!i,this.parseChunk(t)}}}function g(t){u.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function i(t){var a,e,n,r=Math.pow(2,53),o=-r,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,h=this,i=0,c=0,f=!1,m=!1,_=[],w={data:[],errors:[],meta:{}};if(y(t.step)){var p=t.step;t.step=function(n){if(w=n,k())g();else{if(g(),0===w.data.length)return;i+=n.data.length,t.preview&&i>t.preview?e.abort():(w.data=w.data[0],p(w,h))}}}function x(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function g(){return w&&n&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+b.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines&&(w.data=w.data.filter((function(t){return!x(t)}))),k()&&function(){if(w)if(Array.isArray(w.data[0])){for(var e=0;k()&&e<w.data.length;e++)w.data[e].forEach(n);w.data.splice(0,1)}else w.data.forEach(n);function n(e,n){y(t.transformHeader)&&(e=t.transformHeader(e,n)),_.push(e)}}(),function(){if(!w||!t.header&&!t.dynamicTyping&&!t.transform)return w;function e(e,n){var i,r=t.header?{}:[];for(i=0;i<e.length;i++){var o=i,s=e[i];t.header&&(o=i>=_.length?"__parsed_extra":_[i]),t.transform&&(s=t.transform(s,o)),s=E(o,s),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(s)):r[o]=s}return t.header&&(i>_.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+_.length+" fields but parsed "+i,c+n):i<_.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+_.length+" fields but parsed "+i,c+n)),r}var n=1;return!w.data.length||Array.isArray(w.data[0])?(w.data=w.data.map(e),n=w.data.length):w.data=e(w.data,0),t.header&&w.meta&&(w.meta.fields=_),c+=n,w}()}function k(){return t.header&&0===_.length}function E(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(o<e&&e<r)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var i}function C(t,e,i,n){var r={type:t,code:e,message:i};void 0!==n&&(r.row=n),w.errors.push(r)}this.parse=function(r,o,i){var h=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var i=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),n=(t=t.replace(i,"")).split("\r"),r=t.split("\n"),s=1<r.length&&r[0].length<n[0].length;if(1===n.length||s)return"\n";for(var a=0,o=0;o<n.length;o++)"\n"===n[o][0]&&a++;return a>=n.length/2?"\r\n":"\r"}(r,h)),n=!1,t.delimiter)y(t.delimiter)&&(t.delimiter=t.delimiter(r),w.meta.delimiter=t.delimiter);else{var c=function(e,n,i,r,o){var s,a,h,c;o=o||[",","\t","|",";",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<o.length;u++){var d=o[u],f=0,m=0,_=0;h=void 0;for(var p=new l({comments:r,delimiter:d,newline:n,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&x(p.data[g]))_++;else{var v=p.data[g].length;m+=v,void 0!==h?0<v&&(f+=Math.abs(v-h),h=v):h=v}0<p.data.length&&(m/=p.data.length-_),(void 0===a||f<=a)&&(void 0===c||c<m)&&1.99<m&&(a=f,s=d,c=m)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(r,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(n=!0,t.delimiter=b.DefaultDelimiter),w.meta.delimiter=t.delimiter}var s=v(t);return t.preview&&t.header&&s.preview++,a=r,e=new l(s),w=e.parse(a,o,i),g(),f?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,e.abort(),a=y(t.chunk)?"":a.substring(e.getCharIndex())},this.resume=function(){h.streamer._halted?(f=!1,h.streamer.parseChunk(a,!0)):setTimeout(h.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,e.abort(),w.meta.aborted=!0,y(t.complete)&&t.complete(w),a=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function l(t){var e,n=(t=t||{}).delimiter,r=t.newline,o=t.comments,h=t.step,c=t.preview,l=t.fastMode,f=e=void 0===t.quoteChar||null===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(f=t.escapeChar),("string"!=typeof n||-1<b.BAD_DELIMITERS.indexOf(n))&&(n=","),o===n)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<b.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var m=0,_=!1;this.parse=function(t,v,i){if("string"!=typeof t)throw new Error("Input must be a string");var w=t.length,x=n.length,s=r.length,a=o.length,k=y(h),E=[],u=[],C=[],R=m=0;if(!t)return M();if(l||!1!==l&&-1===t.indexOf(e)){for(var S=t.split(r),O=0;O<S.length;O++){if(C=S[O],m+=C.length,O!==S.length-1)m+=r.length;else if(i)return M();if(!o||C.substring(0,a)!==o){if(k){if(E=[],L(C.split(n)),F(),_)return M()}else L(C.split(n));if(c&&c<=O)return E=E.slice(0,c),M(!0)}}return M()}for(var p=t.indexOf(n,m),g=t.indexOf(r,m),T=new RegExp(d(f)+d(e),"g"),P=t.indexOf(e,m);;)if(t[m]!==e)if(o&&0===C.length&&t.substring(m,m+a)===o){if(-1===g)return M();m=g+s,g=t.indexOf(r,m),p=t.indexOf(n,m)}else if(-1!==p&&(p<g||-1===g))C.push(t.substring(m,p)),m=p+x,p=t.indexOf(n,m);else{if(-1===g)break;if(C.push(t.substring(m,g)),A(g+s),k&&(F(),_))return M();if(c&&E.length>=c)return M(!0)}else for(P=m,m++;;){if(-1===(P=t.indexOf(e,P+1)))return i||u.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:E.length,index:m}),I();if(P===w-1)return I(t.substring(m,P).replace(T,e));if(e!==f||t[P+1]!==f){if(e===f||0===P||t[P-1]!==f){-1!==p&&p<P+1&&(p=t.indexOf(n,P+1)),-1!==g&&g<P+1&&(g=t.indexOf(r,P+1));var D=b(-1===g?p:Math.min(p,g));if(t.substr(P+1+D,x)===n){C.push(t.substring(m,P).replace(T,e)),t[m=P+1+D+x]!==e&&(P=t.indexOf(e,m)),p=t.indexOf(n,m),g=t.indexOf(r,m);break}var z=b(g);if(t.substring(P+1+z,P+1+z+s)===r){if(C.push(t.substring(m,P).replace(T,e)),A(P+1+z+s),p=t.indexOf(n,m),P=t.indexOf(e,m),k&&(F(),_))return M();if(c&&E.length>=c)return M(!0);break}u.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:E.length,index:m}),P++}}else P++}return I();function L(t){E.push(t),R=m}function b(e){var n=0;if(-1!==e){var i=t.substring(P+1,e);i&&""===i.trim()&&(n=i.length)}return n}function I(e){return i||(void 0===e&&(e=t.substring(m)),C.push(e),m=w,L(C),k&&F()),M()}function A(e){m=e,L(C),C=[],g=t.indexOf(r,m)}function M(t){return{data:E,errors:u,meta:{delimiter:n,linebreak:r,aborted:_,truncated:!!t,cursor:R+(v||0)}}}function F(){h(M()),E=[],u=[]}},this.abort=function(){_=!0},this.getCharIndex=function(){return m}}function f(t){var e=t.data,i=a[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){n=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(y(i.userStep)){for(var s=0;s<e.results.data.length&&(i.userStep({data:e.results.data[s],errors:e.results.errors,meta:e.results.meta},r),!n);s++);delete e.results}else y(i.userChunk)&&(i.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!n&&m(e.workerId,e.results)}function m(t,e){var i=a[t];y(i.userComplete)&&i.userComplete(e),i.terminate(),delete a[t]}function _(){throw new Error("Not implemented.")}function v(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=v(t[i]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function y(t){return"function"==typeof t}return n&&(t.onmessage=function(e){var n=e.data;if(void 0===b.WORKER_ID&&n&&(b.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:b.WORKER_ID,results:b.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=b.parse(n.input,n.config);i&&t.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b},void 0===(h="function"==typeof r?r.apply(e,o):r)||(t.exports=h)},463:function(t,e,n){"use strict";n(4),n(9),n(45),n(66),n(36);var r=n(460);e.a={questions:null,parsed_questions:[],csv2obj:function(t){var e=this;return this.parsed_questions=[],this.questions=r.parse(t,{header:!0}).data,this.questions.forEach((function(q){if(q.answer){var t=e.analyse(q.answer),n=e.analyse(q.question),r={grade:q.grade,term:q.term,number:q.number,exam:e.create(n,t)};e.parsed_questions.push(r)}})),this.parsed_questions},analyse:function(t){var e=[],n="",r=0,o=t.indexOf("(",r);if(-1==o)return e.push({text:t,type:1}),e;for(;-1!=o;){r!=o&&(0==r?(n=t.slice(r,o),e.push({text:n,type:0})):(n=t.slice(r+1,o),e.push({text:n,type:0})));var h=t.indexOf(")",o);if(-1==h)return n=t.slice(o+1),e.push({text:n,type:0}),e;r=h,n=t.slice(o+1,h),e.push({text:n,type:1}),o=t.indexOf("(",r)}return t.length>r&&(n=t.slice(r+1),e.push({text:n,type:0})),e},create:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=e[i]||{text:""};n.push({q:t[i].text,a:r.text,type:t[i].type})}return n},csv2tests:function(t){var e=[],n=r.parse(t,{header:!0}).data;return console.log("csv2tests",JSON.stringify(n)),n.forEach((function(t){console.log("t.numbers",t);var n=[];if(t.numbers){t.numbers.trim().split(" ").forEach((function(t){n.push(t)}));var r={name:t.name,numbers:n};e.push(r)}})),e}}},472:function(t,e,n){var content=n(484);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("7ead9916",content,!0,{sourceMap:!1})},483:function(t,e,n){"use strict";n(472)},484:function(t,e,n){var r=n(21)(!1);r.push([t.i,".wrapper{display:block;position:relative;width:300px;height:500px;border:1px solid grey}",""]),t.exports=r},533:function(t,e,n){"use strict";n.r(e);var r=n(284),o=n(191),h=n(463),c=n(460),d={layout:"pyper",data:function(){return{mode:0,points:[],parsed_questions:null}},computed:{testdata:function(){return null!=this.parsed_questions?this.parsed_questions[0][0]:[]}},mounted:function(){var t=this;this.$axios.get("/questions.csv").then((function(e){t.questions=c.parse(e.data,{header:!0}).data,t.parsed_questions=h.a.csv2obj(e.data)}))},methods:{clear:function(){this.points=[]},replay:function(){this.load(),this.mode=2},redraw:function(){this.load(),this.mode=1},save:function(){localStorage.setItem("canvasdata",JSON.stringify(this.points))},load:function(){var t=localStorage.getItem("canvasdata")||"[]";this.points=JSON.parse(t)},undo:function(){this.mode=3},redo:function(){this.mode=4},drawBoxChange:function(t){console.log("drawBoxChange",t),this.points_debug=JSON.stringify(t)}}},l=(n(483),n(72)),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"wrapper"},[e("draw-box2",{attrs:{word:t.testdata,index:0},on:{change:t.drawBoxChange}})],1),t._v(" "),e("div",[e(r.a,{on:{click:t.undo}},[e(o.a,[t._v("mdi-undo")])],1),t._v(" "),e(r.a,{on:{click:t.redo}},[e(o.a,[t._v("mdi-redo")])],1)],1),t._v(" "),e("div",[e(r.a,{attrs:{color:"error"},on:{click:t.clear}},[t._v("clear")]),t._v(" "),e(r.a,{attrs:{color:"primary"},on:{click:t.replay}},[t._v("replay")]),t._v(" "),e(r.a,{attrs:{color:"primary"},on:{click:t.redraw}},[t._v("redraw")]),t._v(" "),e(r.a,{attrs:{color:"secondary"},on:{click:t.save}},[t._v("save")])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DrawBox2:n(459).default})}}]);